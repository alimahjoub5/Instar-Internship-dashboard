<app-sidebarfn>
  <nav class="products-breadcrumb">
    <span>Dashboard</span> <span class="breadcrumb-separator">&gt;</span> <span class="breadcrumb-current">Produits</span>
  </nav>
  <div class="products-carousel-row">
    <app-products-carousel [products]="products" (productSelected)="openProductModal($event)"></app-products-carousel>
  </div>
  <div class="products-page-layout">
    <app-sidebarPrdcts></app-sidebarPrdcts>
    <div class="vertical-divider"></div>
    <div class="products-list">
      <div class="products-top-bar">
        <span class="products-count">Il y a {{ products.length }} produits.</span>
        <div class="products-sort">
          <label for="sortParam">Trier par :</label>
          <select id="sortParam" [(ngModel)]="sortParam" (change)="onSortChange()">
            <option value="price-asc">Prix croissants</option>
            <option value="price-desc">Prix d√©croissants</option>
            <option value="name-asc">Nom A-Z</option>
            <option value="name-desc">Nom Z-A</option>
          </select>
        </div>
      </div>
      <div class="products-grid">
        <app-product-card *ngFor="let product of paginatedProducts" [product]="product" (cardClick)="openProductModal(product)"></app-product-card>
        <div *ngIf="!products.length" class="no-products">No products found.</div>
      </div>
      <div class="pagination-controls-horizontal-wrapper">
        <hr class="pagination-horizontal-divider" />
        <div class="pagination-controls" *ngIf="totalPages > 1">
          <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">Previous</button>
          <span>Page {{ currentPage }} of {{ totalPages }}</span>
          <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages">Next</button>
        </div>
      </div>
    </div>
    <app-product-modal *ngIf="selectedProduct" [product]="selectedProduct" (close)="closeProductModal()"></app-product-modal>
  </div>
  <app-fn-footer></app-fn-footer>
</app-sidebarfn>