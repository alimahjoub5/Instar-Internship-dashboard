<app-sidebarfn>
  <nav class="products-breadcrumb">
    <span>Dashboard</span> <span class="breadcrumb-separator">&gt;</span> <span class="breadcrumb-current">Products</span>
  </nav>
  <div class="products-carousel-row">
    <app-products-carousel [products]="products" (productSelected)="openProductModal($event)"></app-products-carousel>
  </div>
  <div class="products-page-layout">
    <div class="filter-sidebar">
      <h3>Filter Products</h3>
      <form>
        <div class="filter-group">
          <label for="category">Category</label>
          <select id="category" name="category">
            <option value="">All</option>
            <option value="Electronics">Electronics</option>
            <option value="Fashion">Fashion</option>
            <option value="Cameras">Cameras</option>
            <option value="Shoes">Shoes</option>
            <option value="Smartphones">Smartphones</option>
            <option value="Headphones">Headphones</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="price-min">Price Range</label>
          <div class="price-range-inputs">
            <input type="number" id="price-min" name="price-min" placeholder="Min" min="0">
            <span>-</span>
            <input type="number" id="price-max" name="price-max" placeholder="Max" min="0">
          </div>
        </div>
        <div class="filter-group">
          <label for="stock">Stock</label>
          <input type="number" id="stock" name="stock" placeholder=">= Stock" min="0">
        </div>
        <div class="filter-group">
          <label for="rating">Min Rating</label>
          <input type="number" id="rating" name="rating" placeholder=">= Rating" min="0" max="5" step="0.1">
        </div>
        <div class="filter-group">
          <label>
            <input type="checkbox" id="promotion" name="promotion">
            Promotion Only
          </label>
        </div>
        <button type="submit">Apply Filters</button>
      </form>
    </div>

    <div class="vertical-divider"></div>
    <div class="products-list">
      <div class="products-top-bar">
        <span class="products-count">There Is  {{ products.length }} products .</span>
        <div class="products-sort">
          <label for="sortParam">filter By  :</label>
          <select id="sortParam" [(ngModel)]="sortParam" (change)="onSortChange()">
            <option value="price-asc">ASC Price </option>
            <option value="price-desc">DESC Price</option>
            <option value="name-asc">Name A-Z</option>
            <option value="name-desc">Name Z-A</option>
          </select>
        </div>
      </div>
      <div class="products-grid">
        <app-product-card *ngFor="let product of paginatedProducts" [product]="product" (cardClick)="openProductModal(product)"></app-product-card>
        <div *ngIf="!products.length" class="no-products">No products found.</div>
      </div>
      <div class="pagination-controls-horizontal-wrapper">
        <hr class="pagination-horizontal-divider" />
        <div class="pagination-controls" *ngIf="totalPages > 1">
          <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">Previous</button>
          <span>Page {{ currentPage }} of {{ totalPages }}</span>
          <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages">Next</button>
        </div>
      </div>
    </div>
    <app-product-modal *ngIf="selectedProduct" [product]="selectedProduct" (close)="closeProductModal()"></app-product-modal>
  </div>
  <app-fn-footer></app-fn-footer>
</app-sidebarfn>